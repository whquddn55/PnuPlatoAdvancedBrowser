# PnuPlatoAdvancedBrowser

# 개요

기존 부산대학교 플라토 공식 어플의 불편한 ux/ui을 개선하고, 캘린더, 강의 다운로드 등의 기능을 추가한 플라토 브라우저

---

# 목적

### 1. 부산대학교 플라토 어플의 불편한 ux/ui개선

1. 하단 네비게이션의 동작이 통일되어 있지않다
2. 쪽지를 주고받는 화면을 열어둔 채로 홈 화면으로 나갈 경우 새 쪽지 알림이 뜨지 않는다
3. 새로운 알림이 발생할 경우 기존의 알림이 덮어씌워진다
4. 등록된 오브젝트(동영상, 파일, 화상강의 등)별 설명이 생략된다

### 2. 부산대학교 플라토 어플에서만 지원하지 않는 기능 추가

1. 웹브라우저에서는 확인가능한 강의 성적이 어플에서는 조회되지 않는다.
2. 교수계획표가 조회되지 않는다
3. 등록된 오브젝트별 학습활동 조회되지 않는다

### 3. 부산대학교 플라토 자체에서 지원하지 않는 기능 추가

1. 일정관리를 위한 캘린더 추가
2. 오프라인 동영상 재생을 위한 동영상 다운로드 기능 추가

---

# 한계

### 1. OTP, 모바일 학생증 등의 보안관련 기능이 구현 불가능하다.

WireShark를 통한 http감지는 TLS로 인해 복호화가 불가능하다. 부산대 공식앱을 디컴파일하여 구현방법을 찾아보았지만 코드 복호화가 쉽지 않아 구현 불가능해 보인다.

### ~~2. 동영상 오프라인 재생을 위한 다운로드 기능이 저작권법에 저촉될 수 있다.~~

~~기존에 서비스했던 동영상 다운로드 크롬확장프로그램이 저작권법을 위반할 가능성이 있다고 학교측에게 연락을 받은 적이 있다.~~ 

> 앱 내부에 암호화된 파일을 그대로 내려받고, 재생하면서 복호화 하는 방식으로 구현하여 공유 가능성을 최대한 차단했다. 내부 스토리지에서 파일을 복제하여 공유하더라도 PPAB어플로만 재생이 가능하기 때문에 외부 유출은 막을 수 있다.
> 

> Plato 강좌 인증을 통해서 강좌목록에 없는 강의는 재생 불가능하도록 막을 예정 ⇒ 구현되지 않음.
> 

---

# TodoList

- 기능
    - [x]  Zoom기능 완벽하게 구현하기(bottom sheet 현재상태업데이트)
        - [x]  Zoom, Assign 자동 업데이트 구현하기
    - [x]  Todo 수동 업데이트 기능 추가하기
    - [x]  마감기한을 알 수 없는 Todo는 따로 표시하도록 수정하기
    - [x]  스마트 출석체크 페이지 뒤로가기 방지
    - [x]  스마트 출석체크 자동 확인
    - [x]  webview pull to refresh 추가하기
    - [ ]  알림 터치 시 바로 이동
        - [x]  Notification
        - [ ]  Todo
        - [ ]  File
    - [ ]  Timer로 Todo status update
    - [ ]  강좌목록 인증을 통해서 강좌 목록에 없는 강의는 재생 불가능하도록 하기
    - [ ]  CourseMainPage에서 ExpandedTile에도 Todo를 표시하도록 개선
    - [ ]  쪽지 기능 추가 - 다음 버전에서 추가
    - [ ]  이전 강좌 조회 기능 추가하기 - 다음 버전에서 추가
    - [ ]  동기화 progress noti 구현하기
- 버그
    - [x]  Notification 파싱 방법 개선
    - [x]  토론, 퀴즈, 설문조사 정상작동하는지 확인해보기
    - [x]  Vod 중복 이름 처리
    - [x]  뒤로가기 2번 해야 종료되도록 수정
    - [ ]  CourseMainPage에서 ScrollController 때문에 화면이 왔다갔다 하는 문제 해결하기
    - [ ]  pc와 dex로 연결 후 vod 시청 시 앱 크기가 바뀔 경우 ui가 깨지는 현상
    - [ ]  공지사항 알림터치 시 Emphasis되지 않음
- 기타구현
    - [x]  저장소 ui 재구현
    - [x]  DownloadController Background로 옮기기( Background Maintain Time 측정 해보고, 문제 발생 시 Foreground로 작업하도록 수정해야함)
        - [x]  알림 재 확인 및 m3u8 다운로드 cancel 구현해야함.
- 테스트
- [x]  Zoom, Assign, Vod 수행 후 Status 자동 업데이트
- [x]  Todo 수동 업데이트
- [x]  알림 Grouping
- [ ]  스마트 출석체크 페이지 뒤로가기 시 페이지 바로 닫힘
- [ ]  토론, 퀴즈, 설문조사 알림이 정상적으로 작동하는지
- [ ]  BugReport, 공지사항
- [ ]  Notification이 15개 이상 새로 생겼을 때 자동으로 그 다음 페이지도 search하는 지